---
aliases: 
tags: 
date: 2022-01-07 18:27
progress: 加工中
---

# 引言
## 一个基本的MIPS实现
我们将要设计的[[体系结构的实现|实现]]方式包含了MIPS[[指令]]集的一个核心子集：
+ 存储器访问指令：取字（lw）和存字（sw）。
+ 算术逻辑指令：加法（add）、减法（sub）、与运算（AND）、或运算（OR）和小于则设置（slt）。
+ 分支指令：相等则分支（beq）和跳转（j）。

### 实现方式概述
实现每条[[指令]]的前两步是一样的：
1. [[程序计数器]]指向[[指令]]所在的存储单元，并从中取出[[指令]]。
2. 通过[[指令]]字段内容，选取一个或两个寄存器。对于取字[[指令]]，只需读取一个寄存器，而其他大多数[[指令]]要求读取两个寄存器。

这两步之后，为完成[[指令]]而进行的步骤取决与具体[[指令]]的类型。

下图给出了MIPS的抽象视图。
![[IMG_0299.JPG]]

# 逻辑设计的一般方法
MIPS[[体系结构的实现|实现]]中的[[数据通路]]功能部件包括两种不同的逻辑单元：处理数据值的单元和存储状态的单元。处理数据值的单元都是[[组合单元]]，输出之取决与输入;其他单元为非组合单元，而且是包含状态的，称为[[状态单元]]。

包含状态的逻辑部件又被称为时序的（sequential），因为他们的输出由输入和内部状态共同决定。

## 时钟方法
[[时钟方法]]规定了信号可以读出和写入的时间。为简单起见，我们假定采用[[边沿触发的时钟]]。
若某[[状态单元]]在每个[[有效]]时钟边沿都进行写入操作，则可忽略写[[控制信号]]。我们将使用术语[[有效]]和[[无效]]，因为在进行硬件[[体系结构的实现|实现]]时，数字1有时表示逻辑高，有时表示逻辑低。

# 建立数据通路
回顾上图可以看出执行[[指令]]时需要的[[数据通路部件]]：
![[IMG_0299.JPG]]
[[R型指令|算术逻辑指令]]的[[数据通路]]与访存指令的[[数据通路]]很相似。它们的主要区别为：
+ [[R型指令|算术逻辑指令]]使用ALU，并且其输入来自两个寄存器。存储[[指令]]也使用ALU来进行地址计算，但ALU的第二个输入是对[[指令]]中16位偏移地址进行[[符号拓展]]后的值。
+ 存入目标寄存器中的值来自于ALU（对[[R型指令]]而言）或存储器（对取数操作而言）。


